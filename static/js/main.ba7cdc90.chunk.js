(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(56)},40:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(22),s=a.n(r),l=a(2),i=a(13),u=a(3),o=a(4),m=a.n(o),p=a(8),d=a(15);a(34),a(36),a(58),a(57);d.initializeApp({apiKey:"AIzaSyDcX_zmDP6QodbdxzbLK8zCD1Igd13sTR8",authDomain:"happynewyear-6e2c5.firebaseapp.com",projectId:"happynewyear-6e2c5",storageBucket:"happynewyear-6e2c5.appspot.com",messagingSenderId:"308954064988",appId:"1:308954064988:web:2cf3356ecb94f08de7de99",measurementId:"G-64SQEL310L"});var f=d.auth(),b=d.firestore(),g=(d.storage(),d.analytics(),a(40),function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],s=Object(u.f)(),i=function(){if(a&&!/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/.test(a))return"invalid"},o=function(){var e=Object(p.a)(m.a.mark(function e(t){var n,c,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!i()){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,b.collection("userInfo").where("email","==",a).get();case 6:(n=e.sent).docs.length>0?(c=n.docs[0].data(),r=c.uid,s.push("/user/".concat(r))):alert("".concat(a,"\uc5d0 \ud574\ub2f9\ud558\ub294 \uc0ac\uc6a9\uc790\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),alert(e.t0.message);case 13:case"end":return e.stop()}},e,null,[[3,10]])}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"findfriend-container"},c.a.createElement("div",{className:"btn-container"},c.a.createElement("button",{onClick:function(){s.push("/")}},"\uba54\uc778\ud654\uba74"),c.a.createElement("button",{onClick:function(){s.goBack()}},"\ub4a4\ub85c")),c.a.createElement("form",{className:"signup-form",onSubmit:o},c.a.createElement("span",{className:"input-text"},"\uce5c\uad6c\uc758 \uc774\uba54\uc77c"),c.a.createElement("input",{className:i(),name:"email",type:"text",placeholder:"",required:!0,value:a,onChange:function(e){var t=e.target.value;r(t)}}),c.a.createElement("div",{className:"warning-text"},a&&i()&&"\uc62c\ubc14\ub978 \uc774\uba54\uc77c \ud615\uc2dd\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),c.a.createElement("input",{className:"main-button",type:"submit",value:""})))}),E=(a(48),function(e){var t=e.userObj,a=Object(u.f)();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"home-container"},c.a.createElement("img",{className:"main-text",alt:"",src:"img/main-msg.png"}),c.a.createElement("img",{className:"main-img",alt:"",src:"img/main-icon.png"}),c.a.createElement("div",{className:"main-text-container"},"2021\ub144 \ud798\ub4e0 \ud55c \ud574\ub97c \ubcf4\ub0b8 \uce5c\uad6c\uc5d0\uac8c",c.a.createElement("br",null),"\ub530\ub4ef\ud55c \uba54\uc138\uc9c0\ub97c \ub0a8\uaca8\uc8fc\uc138\uc694.",c.a.createElement("br",null),"\uba87 \uad11\ub144 \uac70\ub9ac\ub450\uae30\ub97c \ud1b5\ud574 \uc548\uc804\ud558\uac8c \uc804\ub2ec\ub429\ub2c8\ub2e4.")),c.a.createElement("div",{className:"button-container"},c.a.createElement("button",{className:"main-button",onClick:function(){a.push("signup")}}),c.a.createElement("div",{className:"mini-button-container"},c.a.createElement("button",{className:"mini-button",onClick:function(){t?a.push("/user/".concat(t.uid)):a.push("signin")}},"\ub0b4 \ud589\uc131\uc73c\ub85c"),c.a.createElement("button",{className:"mini-button",onClick:function(){a.push("/friend")}},"\uce5c\uad6c \ucc3e\uae30"))))});a(49);var v=function(e){e.userObj;var t=Object(n.useState)(""),a=Object(l.a)(t,2),r=a[0],s=a[1],i=Object(n.useState)(""),o=Object(l.a)(i,2),d=o[0],b=o[1],g=Object(n.useState)(""),E=Object(l.a)(g,2),v=(E[0],E[1]),h=Object(u.f)(),N=function(e){var t=e.target,a=t.name,n=t.value;"email"===a?s(n):"password"===a&&b(n)},O=function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,f.signInWithEmailAndPassword(r,d);case 4:a=e.sent,h.push("/user/".concat(a.user.uid)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0.message),v(e.t0.message);case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"signin-container"},c.a.createElement("div",{className:"btn-container"},c.a.createElement("button",{onClick:function(){h.push("/")}},"\uba54\uc778\ud654\uba74"),c.a.createElement("button",{onClick:function(){h.goBack()}},"\ub4a4\ub85c")),c.a.createElement("form",{className:"signin-form",onSubmit:O},c.a.createElement("span",{className:"input-text"},"\uc774\uba54\uc77c"),c.a.createElement("input",{name:"email",type:"text",placeholder:"",required:!0,value:r,onChange:N}),c.a.createElement("div",{className:"warning-text"},r&&function(){if(!/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/.test(r))return"invalid"}()&&"\uc62c\ubc14\ub978 \uc774\uba54\uc77c \ud615\uc2dd\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),c.a.createElement("span",{className:"input-text"},"\ube44\ubc00\ubc88\ud638"),c.a.createElement("input",{name:"password",type:"password",placeholder:"",required:!0,value:d,onChange:N}),c.a.createElement("div",{className:"warning-text"},d&&function(){if(d.length<6)return"invalid"}()&&"\ube44\ubc00\ubc88\ud638\ub294 6\uc790 \uc774\uc0c1 \uc785\ub825\ud574\uc8fc\uc138\uc694."),c.a.createElement("input",{className:"main-button",type:"submit",value:""})))};a(50);var h=function(e){e.userObj;var t=Object(n.useState)(""),a=Object(l.a)(t,2),r=a[0],s=a[1],i=Object(n.useState)(""),o=Object(l.a)(i,2),d=o[0],g=o[1],E=Object(n.useState)(""),v=Object(l.a)(E,2),h=v[0],N=v[1],O=Object(n.useState)(""),j=Object(l.a)(O,2),x=j[0],k=j[1],w=Object(n.useState)(""),y=Object(l.a)(w,2),C=(y[0],y[1]),S=Object(u.f)(),M=function(e){var t=e.target,a=t.name,n=t.value;"email"===a?g(n):"password"===a?N(n):"passwordCheck"===a?k(n):"nickName"===a&&n.length<15&&s(n)},A=function(){var e=Object(p.a)(m.a.mark(function e(t){var a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(I()||z()||Z())){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,f.createUserWithEmailAndPassword(d,h);case 6:return a=e.sent,n=a.user.uid,e.next=10,b.collection("userInfo").add({uid:n,displayName:r,createdAt:Date.now(),email:d});case 10:S.push("/user/".concat(n)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),alert(e.t0.message),C(e.t0.message);case 17:case"end":return e.stop()}},e,null,[[3,13]])}));return function(t){return e.apply(this,arguments)}}(),z=function(){if(d&&!/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/.test(d))return"invalid"},I=function(){if(h&&h.length<6)return"invalid"},Z=function(){if(h!==x)return"invalid"};return c.a.createElement("div",{className:"signup-container"},c.a.createElement("div",{className:"btn-container"},c.a.createElement("button",{onClick:function(){S.push("/")}},"\uba54\uc778\ud654\uba74"),c.a.createElement("button",{onClick:function(){S.goBack()}},"\ub4a4\ub85c")),c.a.createElement("div",{className:"signup-text"},"\ub098\uc758 \ud589\uc131 \ub9cc\ub4e4\uae30"),c.a.createElement("form",{className:"signup-form",onSubmit:A},c.a.createElement("span",{className:"input-text"},"\uc774\ub984"),c.a.createElement("input",{name:"nickName",type:"text",placeholder:"",required:!0,value:r,onChange:M}),c.a.createElement("div",{className:"warning-text"}),c.a.createElement("span",{className:"input-text"},"\uc774\uba54\uc77c"),c.a.createElement("input",{className:z(),name:"email",type:"text",placeholder:"",required:!0,value:d,onChange:M}),c.a.createElement("div",{className:"warning-text"},d&&z()&&"\uc62c\ubc14\ub978 \uc774\uba54\uc77c \ud615\uc2dd\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),c.a.createElement("span",{className:"input-text"},"\ube44\ubc00\ubc88\ud638"),c.a.createElement("input",{className:I(),name:"password",type:"password",placeholder:"",required:!0,value:h,onChange:M}),c.a.createElement("div",{className:"warning-text"},h&&I()&&"\ube44\ubc00\ubc88\ud638\ub294 6\uc790 \uc774\uc0c1 \uc785\ub825\ud574\uc8fc\uc138\uc694."),c.a.createElement("span",{className:"input-text"},"\ube44\ubc00\ubc88\ud638 \ud655\uc778"),c.a.createElement("input",{className:Z(),name:"passwordCheck",type:"password",placeholder:"",required:!0,value:x,onChange:M}),c.a.createElement("div",{className:"warning-text"},h&&x&&Z()&&"\ube44\ubc00\ubc88\ud638\uc640 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),c.a.createElement("input",{className:"main-button",type:"submit",value:""})))},N=a(26),O=(a(51),function(e){var t=e.isMsgModalOpened,a=e.onClickToggleMsgModal,r=e.uid,s=e.addMsgOnList,i=e.showInduceModal,o=Object(n.useState)(""),d=Object(l.a)(o,2),f=d[0],g=d[1],E=Object(n.useState)(""),v=Object(l.a)(E,2),h=v[0],N=v[1],O=Object(n.useState)(0),j=Object(l.a)(O,2),x=j[0],k=j[1],w=Object(u.f)(),y=function(){var e=Object(p.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={uid:r,nickName:f,text:h,photo:x,posX:36*Math.floor(11*Math.random())-200,posY:45*Math.floor(11*Math.random())+50,createdAt:Date.now()},e.next=4,b.collection("message").add(n);case 4:N(""),g(""),s(n),a(),"true"!==localStorage.getItem("sawInduceModal")&&i();case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"msgmodal-wrapper ".concat(t?"opened":"closed")},c.a.createElement("div",{className:"msgmodal-container",onClick:function(e){e.stopPropagation()}},c.a.createElement("div",{className:"btn-container"},c.a.createElement("button",{onClick:function(){w.push("/")}},"\uba54\uc778\ud654\uba74"),c.a.createElement("button",{onClick:a},"\ub4a4\ub85c")),c.a.createElement("form",{className:"msg-form",onSubmit:y},c.a.createElement("span",{className:"input-text"},"\ubcf4\ub0b4\ub294 \uc0ac\ub78c"),c.a.createElement("input",{type:"text",placeholder:"",maxLength:20,onChange:function(e){var t=e.target.value;t.length<10&&g(t)},required:!0,value:f}),c.a.createElement("span",{className:"input-text"},"\ub0a8\uae38 \uba54\uc138\uc9c0"),c.a.createElement("textarea",{type:"text",placeholder:"\uae00\uc790 \uc218\uc5d0 \ub530\ub77c \ubcc4\uc774 \ucee4\uc9d1\ub2c8\ub2e4.",maxLength:200,onChange:function(e){var t=e.target.value;N(t)},required:!0,value:h}),c.a.createElement("div",{className:"msglen-counter"},"".concat(h.length,"/200")),c.a.createElement("span",{className:"input-text selectstar"},"\ubcc4 \uace0\ub974\uae30"),c.a.createElement("div",{className:"select-star-container"},[0,1,2,3,4].map(function(e){return c.a.createElement("div",{id:"star-".concat(e),className:"star-container",key:e},c.a.createElement("span",{className:"star",onClick:function(){k(e)},style:{fontSize:"".concat("".concat(Math.min(75,h.length+25),"px"))}},"*"),c.a.createElement("div",{className:"".concat(e===x?"display":"hidden")},c.a.createElement("img",{className:"star-img",alt:"",src:"img/arrow.png"})))})),c.a.createElement("input",{className:"submit-button",type:"submit",value:""}))))}),j=(a(52),function(e){var t,a=e.msgObj,n=e.closeMsgModal,r=e.sameUser,s=a.photo,l=a.text,i=a.nickName,u=new Date;return c.a.createElement("div",{className:"msg-wrapper",onClick:function(){n()}},c.a.createElement("div",{className:"msg-container",onClick:function(e){return e.stopPropagation()}},c.a.createElement("div",{className:"star-container"},c.a.createElement("div",{className:"msg-star",id:"display-star-".concat(s),style:{fontSize:"".concat((t=l,"".concat(Math.min(50,t.length)+20,"px")))}},"*")),c.a.createElement("div",{className:"msg-nickname"},"\ubcf4\ub0b8\uc0ac\ub78c: ",c.a.createElement("span",null,i)),c.a.createElement("div",{className:"msg-text"},u.getFullYear()&&r>2021?l:"\uba54\uc138\uc9c0\ub294 2022\ub144\uc5d0 \uc804\ub2ec\ub429\ub2c8\ub2e4.")))}),x=(a(53),a(54),function(e){var t=e.onClickSignUp,a=e.closeInduceModal;return c.a.createElement("div",{className:"inducemodal-wrapper",onClick:a},c.a.createElement("div",{className:"inducemodal-container"},c.a.createElement("div",{className:"iducemodal-text-container"},c.a.createElement("div",{className:"iducemodal-text"},"\uba54\uc138\uc9c0\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc804\ub2ec\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),"\ub098\ub9cc\uc758 \ud589\uc131\uc744 \ub9cc\ub4e4\uace0 ",c.a.createElement("br",null),"\uce5c\uad6c\ub4e4\ub85c\ubd80\ud130 \uba54\uc138\uc9c0\ub97c \ubc1b\uc544\ubcf4\uc138\uc694."),c.a.createElement("button",{className:"main-button",onClick:function(e){t(),e.preventDefault()}}),c.a.createElement("div",{className:"iducemodal-close-btn"},"\ub2eb\uae30")))}),k=function(e){var t=e.match,a=Object(n.useState)(""),r=Object(l.a)(a,2),s=r[0],i=r[1],o=Object(n.useState)(""),d=Object(l.a)(o,2),g=d[0],E=d[1],v=Object(n.useState)(!1),h=Object(l.a)(v,2),k=h[0],w=h[1],y=Object(n.useState)([]),C=Object(l.a)(y,2),S=C[0],M=C[1],A=Object(n.useState)(!1),z=Object(l.a)(A,2),I=z[0],Z=z[1],D=Object(n.useState)(!1),q=Object(l.a)(D,2),L=q[0],B=q[1],P=Object(n.useState)(null),U=Object(l.a)(P,2),_=U[0],F=U[1],R=Object(u.f)(),T=function(){var e=Object(p.a)(m.a.mark(function e(t){var a,n,c,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection("userInfo").where("uid","==",t).get();case 2:if(!((a=e.sent).docs.length>0)){e.next=10;break}return n=a.docs[0].data(),c=n.displayName,r=n.uid,i(r),E(c),e.abrupt("return",!0);case 10:return alert("\uc798\ubabb\ub41c \uc811\uadfc\uc785\ub2c8\ub2e4."),R.push("/"),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection("message").where("uid","==",t).orderBy("createdAt").get();case 2:a=e.sent,M(a.docs.map(function(e){return e.data()}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:T(t)&&X(t);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){var e=t.params.id;Y(e),f.currentUser&&e===f.currentUser.uid&&w(!0)},[]);var $=function(){R.push("/signup")},J=function(){Z(function(e){return!e})},K=function(){var e=Object(p.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.getElementById("textarea")).select(),t.setSelectionRange(0,9999),document.execCommand("copy"),t.setSelectionRange(0,0),alert("\ub9c1\ud06c\uac00 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \nSNS\ub97c \ud1b5\ud574 \uce5c\uad6c\ub4e4\uc5d0\uac8c \ub9c1\ud06c\ub97c \uacf5\uc720\ud574\uc8fc\uc138\uc694.");case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Q=document.location.href;return c.a.createElement("div",{className:"userpage-container"},!I&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"btn-container"},c.a.createElement("button",{onClick:function(){R.push("/")}},"\uba54\uc778\ud654\uba74"),c.a.createElement("button",{onClick:function(){R.goBack()}},"\ub4a4\ub85c")),c.a.createElement("div",{className:"star-display-container"},S.map(function(e,t){var a,n=e.createdAt,r=e.photo,s=e.text,l=e.posX,i=e.posY;return c.a.createElement("div",{className:"display-star",key:n,id:"display-star-".concat(r),style:{transform:"translate(".concat(l,"px,").concat(i,"px)")}},c.a.createElement("div",{className:"star",id:t,style:{fontSize:"".concat((a=s,"".concat(Math.min(50,a.length)+10,"px")))},onClick:function(){!function(e){F(e)}(t)}},"*"))})),c.a.createElement("div",null,g,"\ub2d8 \ud589\uc131\uc5d0 ",S.length,"\uac1c\uc758 \uba54\uc138\uc9c0\uac00 \ub3c4\ucc29\ud588\uc2b5\ub2c8\ub2e4."),c.a.createElement("div",{className:"userpage-btn-container"},k?c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"copy-url-button",onClick:K}),c.a.createElement("button",{onClick:function(){f.signOut(),R.push("/")}},"log out")):c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"send-msg-button",onClick:J}),c.a.createElement("button",{className:"mini-button",onClick:$},"\ub0b4 \ud589\uc131 \ub9cc\ub4e4\uae30")))),c.a.createElement(O,{addMsgOnList:function(e){M(function(t){return[].concat(Object(N.a)(t),[e])})},isMsgModalOpened:I,onClickToggleMsgModal:J,uid:s,showInduceModal:function(){B(!0),localStorage.setItem("sawInduceModal","true")}}),null!==_&&c.a.createElement(j,{msgObj:S[_],closeMsgModal:function(){F(null)},sameUser:k}),L&&c.a.createElement(x,{onClickSignUp:$,closeInduceModal:function(){B(!1)}}),c.a.createElement("img",{className:"person-planet",alt:"",src:"img/main-icon.png"}),c.a.createElement("textarea",{id:"textarea",value:Q,onChange:function(){}}))},w=function(e){e.isLoggedIn;var t=e.userObj;return c.a.createElement(i.a,null,c.a.createElement(u.c,null,c.a.createElement(u.a,{exact:!0,path:"/"},c.a.createElement(E,{userObj:t})),c.a.createElement(u.a,{exact:!0,path:"/signin"},c.a.createElement(v,{userObj:t})),c.a.createElement(u.a,{exact:!0,path:"/signup"},c.a.createElement(h,{userObj:t})),c.a.createElement(u.a,{exact:!0,path:"/friend"},c.a.createElement(g,null)),c.a.createElement(u.a,{path:"/user/:id",component:k})))};var y=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(!1),i=Object(l.a)(s,2),u=i[0],o=i[1],m=Object(n.useState)(null),p=Object(l.a)(m,2),d=p[0],b=p[1];return Object(n.useEffect)(function(){f.onAuthStateChanged(function(e){e?(o(!0),b(function(e){return{displayName:e.displayName,uid:e.uid,updateProfile:function(t){return e.updateProfile(t)}}}(e))):o(!1),r(!0)})},[]),a?c.a.createElement("div",{className:"app-container"},c.a.createElement(w,{userObj:d,isLoggedIn:u})):c.a.createElement("div",{className:"loading-container"},c.a.createElement("img",{className:"main-img",alt:"",src:"img/main-icon.png"}),c.a.createElement("span",null,"loading..."))};a(55);s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(y,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.ba7cdc90.chunk.js.map